from flask_assets import Environment, Bundle
from flask import Flask, render_template, session, Response

def create_app():
    app = Flask(__name__, instance_relative_config=True)
    app.config.from_pyfile('config.py')

    assets = Environment(app)
    assets.url = app.static_url_path

    scss = Bundle(
        "assets/custom.scss",
        filters="libsass",
        output="css/scss-generated.css"
    )
    assets.register("scss_all", scss)

    # Routes
    @app.route('/')
    @app.route('/home')
    def home_page():
        return render_template('home_page.html')
        
    
    @app.route('/contact')
    def contact_page():
        return render_template('contact_page.html')


    @app.route('/about-us')
    def about_us_page():
        return render_template('about-us_page.html')

    ########

    return app

if __name__ == "__main__":
    create_app().run()